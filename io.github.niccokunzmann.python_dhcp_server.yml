id: io.github.niccokunzmann.python_dhcp_server
# The runtime is the environment that the application will run in, so you can use dependencies it provides
runtime: org.freedesktop.Platform
runtime-version: "23.08"
sdk: org.freedesktop.Sdk
# This is the command that will be run when the application is launched
command: python_dhcp_server
# These are the permissions that the application needs
# Read more about finishing here: https://docs.flatpak.org/en/latest/manifests.html#finishing
finish-args:
  - --socket=fallback-x11
  - --socket=wayland
  - --share=network
  - --share=ipc
  - --allow=multiarch
modules:
  - name: python_dhcp_server
    # There are other types of buildsystems, like autotools, cmake, cmake-ninja, simple, qmake
    buildsystem: simple
    # see https://docs.flatpak.org/en/latest/manifests.html#modules
    build-commands:
      - ./inside.sh
    sources:
      - type: dir
        path: app
      - type: archive
        url: https://github.com/niccokunzmann/python_dhcp_server/archive/refs/tags/0.7.tar.gz
        # wget -O- 'https://github.com/niccokunzmann/python_dhcp_server/archive/refs/tags/0.7.tar.gz' | sha256sum
        sha256: b1ffccbab4c880b528c373e996f1ef0ba189cdff5dd9a86008d7bcf8c1f81e24
      # install tkinter, see https://discourse.flathub.org/t/how-can-i-package-a-python-tkinter-application/3795/4
      - type: git
        url: https://github.com/iwalton3/tkinter-standalone
        commit: ba946536054f9d27a08aafde21aa18330ce05729
